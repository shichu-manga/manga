<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§˜å¯†ã®æ¼«ç”»æ£š â™¡ ShiChu4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #fff0f5; color: #4a4a4a; font-family: sans-serif; }
        .manga-card:hover { transform: translateY(-3px); transition: 0.3s; }
        .rank-1 { color: #ffd700; } .rank-2 { color: #c0c0c0; } .rank-3 { color: #cd7f32; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
    </style>
</head>
<body class="antialiased">

    <div id="age-gate" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-2xl shadow-xl max-w-sm w-[90%] border-4 border-pink-200 text-center">
            <h2 class="text-2xl font-bold mb-4 text-pink-500">å¹´é½¢ç¢ºèª</h2>
            <p class="text-sm text-gray-600 mb-6">ã‚ãªãŸã¯18æ­³ä»¥ä¸Šã§ã™ã‹ï¼Ÿ</p>
            <div class="flex flex-col gap-3">
                <button onclick="confirmAge()" class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 rounded-full shadow-md transition">ã¯ã„ã€18æ­³ä»¥ä¸Šã§ã™</button>
                <button onclick="history.back()" class="bg-gray-200 py-3 rounded-full text-gray-500 transition">ã„ã„ãˆ</button>
            </div>
        </div>
    </div>

    <div id="main-content" class="hidden">
        <header class="py-4 border-b border-pink-200 text-center sticky top-0 bg-[#fff0f5] bg-opacity-80 backdrop-blur-md z-40">
            <h1 class="text-lg font-bold text-pink-600 font-serif tracking-widest cursor-pointer" onclick="location.href='index.html'">â™¡ SECRET SELECTION â™¡</h1>
        </header>

        <div class="max-w-6xl mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row gap-8">
                
                <main class="flex-grow">
                    <h2 id="list-title" class="text-xl font-bold text-pink-500 mb-6 flex items-center px-2">âœ¨ ãŠã™ã™ã‚ä½œå“</h2>
                    <div id="manga-grid" class="grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"></div>
                </main>

                <aside class="w-full md:w-80 shrink-0">
                    <div class="space-y-8 sticky top-24">
                        
                        <div class="bg-white rounded-2xl p-5 shadow-sm border border-pink-100">
                            <h2 class="text-lg font-bold text-gray-700 mb-5 pb-2 border-b-2 border-pink-200 italic">ğŸ† ä»Šé€±ã®äººæ°—TOP5</h2>
                            <div id="ranking-list" class="space-y-4 mb-8"></div>

                            <div class="pt-4 border-t border-dashed border-pink-100">
                                <h3 class="text-[11px] font-extrabold text-pink-400 mb-3 tracking-tighter italic">ğŸŒ™ æœˆé–“äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h3>
                                <div id="monthly-ranking-list" class="space-y-2"></div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-5 shadow-sm border border-pink-100">
                            <h2 class="text-lg font-bold text-gray-700 mb-4 text-sm">ğŸ” ä½œå“ã‚’æ¢ã™</h2>
                            <div class="mb-6">
                                <input type="text" id="search-input" oninput="searchManga()" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢..." 
                                    class="w-full px-4 py-2 rounded-lg border-2 border-pink-100 focus:outline-none focus:border-pink-300 text-sm">
                            </div>
                            <h3 class="text-[10px] font-bold text-pink-400 mb-3 uppercase tracking-wider">Popular Tags</h3>
                            <div id="tag-cloud" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <footer class="py-10 text-center text-gray-400 text-xs border-t border-pink-100 mt-12 bg-white">
            <p>Â© 2026 ShiChu4.</p>
        </footer>
    </div>

    <script>
        const mangaList = [
            { title: "ç´”çœŸãªå½¼å¥³ã¨ã®æ—¥å¸¸", author: "å±±ç”°å¤ªéƒ", img: "https://via.placeholder.com/300x420/ffb6c1?text=A", link: "item.html", tags: ["ç´”æ„›", "å­¦ç”Ÿ"] },
            { title: "éš£ã®å¥¥æ§˜ã¯èª˜æƒ‘ã™ã‚‹", author: "ä½è—¤èŠ±å­", img: "https://via.placeholder.com/300x420/ffc0cb?text=B", link: "item.html", tags: ["å¯å–ã‚‰ã‚Œ", "äººå¦»"] },
            { title: "é­”æ³•ã®æ”¾èª²å¾Œ", author: "ç”°ä¸­ã·ã‚Šã‚“", img: "https://via.placeholder.com/300x420/ff69b4?text=C", link: "item.html", tags: ["ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼", "å·¨ä¹³"] }
        ];

        const monthlyRanking = [
            { title: "ãšã£ã¨äººæ°—ã®å®šç•ªåä½œ1", link: "item.html" },
            { title: "å…ˆæœˆã‹ã‚‰è©±é¡Œã®ã‚¿ã‚¤ãƒˆãƒ«2", link: "item.html" },
            { title: "ä¸å‹•ã®ãƒˆãƒƒãƒ—ã‚»ãƒ©ãƒ¼ä½œå“3", link: "item.html" }
        ];

        const popularTags = ["ç´”æ„›", "å¯å–ã‚‰ã‚Œ", "å·¨ä¹³", "å­¦ç”Ÿ", "äººå¦»", "OL", "ãƒ„ãƒ³ãƒ‡ãƒ¬", "å¹¼é¦´æŸ“", "ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼", "ãƒ¡ã‚¤ãƒ‰", "ã‚³ã‚¹ãƒ—ãƒ¬", "ãƒ•ãƒ«ã‚«ãƒ©ãƒ¼", "ç‹¬å æ¬²", "æ”¾èª²å¾Œ"];

        function displayManga(filterList) {
            const grid = document.getElementById('manga-grid');
            grid.innerHTML = filterList.length ? "" : `<p class="col-span-full text-center py-10 text-gray-400">è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ...</p>`;
            filterList.forEach(m => {
                const tagsHtml = m.tags.map(t => `<span onclick="event.preventDefault(); filterByTag('${t}')" class="text-[9px] bg-pink-50 text-pink-400 px-1.5 py-0.5 rounded mr-1 hover:bg-pink-500 hover:text-white transition cursor-pointer">#${t}</span>`).join('');
                grid.innerHTML += `<div class="manga-card bg-white rounded-xl overflow-hidden shadow-sm border border-pink-50 fade-in"><a href="${m.link}"><img src="${m.img}" class="w-full aspect-[3/4] object-cover"></a><div class="p-3"><p class="text-[9px] text-gray-400 font-medium">è‘—è€…: ${m.author}</p><h3 class="font-bold text-xs line-clamp-1 my-1">${m.title}</h3><div class="flex flex-wrap gap-y-1">${tagsHtml}</div></div></div>`;
            });
        }

        function filterByTag(tag) {
            const filtered = tag === 'ã™ã¹ã¦' ? mangaList : mangaList.filter(m => m.tags.includes(tag));
            document.getElementById('list-title').innerHTML = tag === 'ã™ã¹ã¦' ? "âœ¨ ãŠã™ã™ã‚ä½œå“" : `âœ¨ #${tag} ã®ä½œå“ä¸€è¦§`;
            displayManga(filtered);
            document.getElementById('search-input').value = tag === 'ã™ã¹ã¦' ? "" : tag;
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function searchManga() {
            const val = document.getElementById('search-input').value.toLowerCase();
            const filtered = mangaList.filter(m => m.title.toLowerCase().includes(val) || m.author.toLowerCase().includes(val) || m.tags.some(t => t.toLowerCase().includes(val)));
            displayManga(filtered);
        }

        function renderSidebar() {
            const cloud = document.getElementById('tag-cloud');
            cloud.innerHTML = `<button onclick="filterByTag('ã™ã¹ã¦')" class="bg-white border border-pink-100 px-2 py-1 rounded text-[10px] hover:bg-pink-500 hover:text-white transition">#ã™ã¹ã¦</button>`;
            popularTags.forEach(t => {
                cloud.innerHTML += `<button onclick="filterByTag('${t}')" class="bg-white border border-pink-100 px-2 py-1 rounded text-[10px] hover:bg-pink-500 hover:text-white transition">#${t}</button>`;
            });

            const rankEl = document.getElementById('ranking-list');
            mangaList.slice(0, 5).forEach((m, i) => {
                const n = i + 1;
                rankEl.innerHTML += `<a href="${m.link}" class="flex items-center gap-3 group"><div class="relative w-10 h-12 shrink-0"><img src="${m.img}" class="w-full h-full object-cover rounded shadow-sm"><span class="absolute -top-1 -left-1 w-5 h-5 rounded-full bg-white shadow text-[10px] flex items-center justify-center font-bold ${n<=3?'rank-'+n:'text-gray-400'}">${n}</span></div><p class="text-[10px] font-bold group-hover:text-pink-500 line-clamp-2 leading-tight">${m.title}</p></a>`;
            });

            const monthlyEl = document.getElementById('monthly-ranking-list');
            monthlyRanking.forEach((m, i) => {
                monthlyEl.innerHTML += `<a href="${m.link}" class="flex items-center gap-2 group py-0.5"><span class="text-[10px] font-mono text-pink-300">0${i+1}</span><p class="text-[10px] text-gray-500 group-hover:text-pink-500 truncate transition">${m.title}</p></a>`;
            });
        }

        function confirmAge() {
            localStorage.setItem('age-verified-pink', 'true');
            document.getElementById('age-gate').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
        }

        window.onload = () => {
            if (localStorage.getItem('age-verified-pink') === 'true') {
                document.getElementById('age-gate').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
            }
            renderSidebar();
            displayManga(mangaList);
        };
    </script>
</body>
</html>
